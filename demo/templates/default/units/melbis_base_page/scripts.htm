<script type="text/javascript">

// Auto image preview
//==================================================================================================

// Get image
$('main').on('click', '.img_preview', function() 
{
    if ( $(this).hasClass('img_max') )
    {
        $('#kasdim_win_imageview img').removeClass('img-fluid').addClass('kasdim_css_img_detail');    
    }                                                            
    else
    {
        $('#kasdim_win_imageview img').addClass('img-fluid').removeClass('kasdim_css_img_detail');
    }
    $('#kasdim_win_imageview img').attr('src', $(this).attr('src'));
                     
    $('#kasdim_win_imageview').modal('show'); 
});


// Get prev image 
$('#kasdim_win_imageview .prev').on('click', function() 
{        
    var src = $('#kasdim_win_imageview img').attr('src');
    $('main .img_preview').each(function(i)
    {        
        if ( src == $(this).attr('src') )                         
        {            
            if ( i > 0 )
            {
                src =  $('main .img_preview').eq(i-1).attr('src');
                if ( $('main .img_preview').eq(i-1).hasClass('img_max') )
                {
                    $('#kasdim_win_imageview img').removeClass('img-fluid').addClass('kasdim_css_img_detail');    
                }                                                            
                else
                {
                    $('#kasdim_win_imageview img').addClass('img-fluid').removeClass('kasdim_css_img_detail');
                }              
            }
            return false;             
        }          
    }); 
    $('#kasdim_win_imageview img').attr('src', src);            
});


// Get next image 
$('#kasdim_win_imageview .next').on('click', function() 
{            
    var src = $('#kasdim_win_imageview img').attr('src');
    $('main .img_preview').each(function(i)
    {                        
        if ( src == $(this).attr('src') && i < $('main .img_preview').length )                         
        {                        
            src =  $('main .img_preview').eq(i+1).attr('src');
            if ( $('main .img_preview').eq(i+1).hasClass('img_max') )
            {
                $('#kasdim_win_imageview img').removeClass('img-fluid').addClass('kasdim_css_img_detail');    
            }                                                            
            else
            {
                $('#kasdim_win_imageview img').addClass('img-fluid').removeClass('kasdim_css_img_detail');
            }                 
            return false;             
        }          
    });    
    $('#kasdim_win_imageview img').attr('src', src);
});


// Close preview 
$('#kasdim_win_imageview img').on('click', function() 
{            
    $('#kasdim_win_imageview').modal('hide');
});
     

</script>